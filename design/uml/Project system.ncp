<Project>
  <Name>Project system</Name>
  <ProjectItem type="NClass.DiagramEditor.ClassDiagram.Diagram" assembly="NClass.DiagramEditor, Version=2.3.1512.0, Culture=neutral, PublicKeyToken=null">
    <Name>Projects - Core</Name>
    <Language>CSharp</Language>
    <Entities>
      <Entity type="Comment">
        <Text>Note that the 'data-unit' graph only needs to hold the 'description' of each initial data set. The descriptions hold all the variables, geometry and other data which can be changed to obtain another 'data-unit'. 

The generator, visualization and actual data sets can be linked to the 'data-unit'-description but they don't necessarily need to be in the tree.

By separating the actual generated data from the 'description' data we can allow modification (copy/clone/modify/edit etc.) of a 'data-unit' without having to digg through all the generated data. This also forces components / users to indicate what data should be considered in the tree and what data doesn't need to be considered.</Text>
        <Location left="10" top="10" />
        <Size width="362" height="261" />
      </Entity>
      <Entity type="Interface">
        <Name>IHistory</Name>
        <Access>Internal</Access>
        <Location left="2240" top="674" />
        <Size width="162" height="76" />
        <Collapsed>False</Collapsed>
      </Entity>
      <Entity type="Interface">
        <Name>ITimeLineProxy</Name>
        <Access>Internal</Access>
        <Location left="2240" top="831" />
        <Size width="162" height="66" />
        <Collapsed>False</Collapsed>
      </Entity>
      <Entity type="Interface">
        <Name>IBuildProjects</Name>
        <Access>Internal</Access>
        <Location left="135" top="1072" />
        <Size width="515" height="129" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IBuildProjects Define()</Member>
        <Member type="Method">IBuildProjects WithDatasetDistributor(Func&lt;DatasetRequest, DistributionPlan&gt; distributor)</Member>
        <Member type="Method">IBuildProjects FromStorage(IPersistenceInformation persistenceInfo)</Member>
        <Member type="Method">IProject Build()</Member>
      </Entity>
      <Entity type="Interface">
        <Name>IPersistenceProxy</Name>
        <Access>Internal</Access>
        <Location left="984" top="1328" />
        <Size width="162" height="61" />
        <Collapsed>False</Collapsed>
      </Entity>
      <Entity type="Interface">
        <Name>IComponentResolver</Name>
        <Access>Internal</Access>
        <Location left="2426" top="583" />
        <Size width="162" height="61" />
        <Collapsed>False</Collapsed>
      </Entity>
      <Entity type="Comment">
        <Text>- Define default objects that get substituted for specific types, attribute values etc.. This is just like an IOC container. e.g. when using Autofac you hardcode that resolving interface X always gets you an instance of object Y. We can do a similar system for simple system components (e.g. a logger, a console application runner etc.)
- If we make this mechanism available over the entire application then we can allow the higher level components to create substitutions too. That way we could allow the project to setup the resolvers for different simulation components based on the type of simulation that the user has selected. When using this system we'll get a sort of distributed, dynamic IOC container where all the reference types get filled in at the last possible minute.
- We'll need to figure out how we are going to store all this information though. We could mabye use an actual IOC container and dynamically create builders (which we can discard when ever we want)
- Another issue is figuring out a way to be able to load components without having the entire  object graph availabe. We might be able to create dynamic proxies that only load up their suggested component once they are needed?</Text>
        <Location left="2364" top="108" />
        <Size width="423" height="363" />
      </Entity>
      <Entity type="Comment">
        <Text>Should be available to the UI / project system.</Text>
        <Location left="2670" top="634" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Class">
        <Name>Project</Name>
        <Access>Internal</Access>
        <Location left="2058" top="1021" />
        <Size width="400" height="128" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>ProjectService</Name>
        <Access>Internal</Access>
        <Location left="801" top="1047" />
        <Size width="350" height="179" />
        <Collapsed>False</Collapsed>
        <Member type="Field">private readonly DatasetLoader m_Loader</Member>
        <Member type="Field">private IProject m_Project</Member>
        <Member type="Method">public void CreateNewProject()</Member>
        <Member type="Method">public void LoadProject(IPersistenceInformation persistenceInfo)</Member>
        <Member type="Property">public IProject Current { get; }</Member>
        <Member type="Method">public void UnloadProject()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IProject</Name>
        <Access>Internal</Access>
        <Location left="1266" top="1021" />
        <Size width="606" height="265" />
        <Collapsed>False</Collapsed>
        <Member type="Property">bool IsClosed { get; }</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnClosed</Member>
        <Member type="Property">string Name { get; set; }</Member>
        <Member type="Event">event EventHandler&lt;ValueChangedEventArgs&lt;string&gt;&gt; OnNameChanged</Member>
        <Member type="Property">string Summary { get; set; }</Member>
        <Member type="Event">event EventHandler&lt;ValueChangedEventArgs&lt;string&gt;&gt; OnSummaryChanged</Member>
        <Member type="Property">int NumberOfDatasets { get; }</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnDatasetCreated</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnDatasetDeleted</Member>
        <Member type="Method">IProxyDataset BaseDataset()</Member>
        <Member type="Method">void Save(IPersistenceInformation persistenceInfo)</Member>
        <Member type="Method">void Export(DatasetId datasetToExport, bool shouldIncludeChildren, IPersistenceInformation persistenceInfo)</Member>
      </Entity>
      <Entity type="Class">
        <Name>ProjectBuilder</Name>
        <Access>Internal</Access>
        <Location left="278" top="1292" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DatasetRequest</Name>
        <Access>Public</Access>
        <Location left="1528" top="498" />
        <Size width="360" height="213" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public DatasetOfflineInformation DatasetToLoad { get; }</Member>
        <Member type="Property">public DatasetId Parent { get; }</Member>
        <Member type="Property">public bool ProvideParentWithHubConnection { get; }</Member>
        <Member type="Property">public bool IsIntraDatasetCommunicationRequired { get; }</Member>
        <Member type="Property">public int MaximumNumberOfParallelBlocks { get; }</Member>
        <Member type="Property">public ExpectedDatasetLoad ExpectedLoadPerMachine { get; }</Member>
        <Member type="Property">public LoadingLocation PreferredLoadingLocation { get; }</Member>
        <Member type="Property">public MachineDistributionRange DesiredDistributionRange { get; }</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DistributionPlan</Name>
        <Access>Public</Access>
        <Location left="331" top="316" />
        <Size width="319" height="247" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public DatasetId DistributionFor { get; }</Member>
        <Member type="Method">public IEnumerable&lt;Machine&gt; MachinesToDistributeTo()</Member>
        <Member type="Property">public TimeSpan EstimatedTransferTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedLoadingTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedRunningTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedUnloadingTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedReturnTransferTime { get; }</Member>
        <Member type="Property">public DateTimeOffset EarliestStartTime { get; }</Member>
        <Member type="Property">public DateTimeOffset EarliestEstimatedFinnishTime { get; }</Member>
        <Member type="Method">public IObservable&lt;DatasetOnlineInformation&gt; Accept()</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DatasetOnlineInformation</Name>
        <Access>Public</Access>
        <Location left="2984" top="896" />
        <Size width="346" height="128" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public DatasetId Id { get; }</Member>
        <Member type="Property">public MessageHub Channel { get; }</Member>
        <Member type="Method">public IEnumerable&lt;DatasetCommand&gt; AdditionalCommands()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DatasetOfflineInformation</Name>
        <Access>Public</Access>
        <Location left="2984" top="1157" />
        <Size width="311" height="230" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public DatasetId Id { get; }</Member>
        <Member type="Property">public DatasetCreator CreatedBy { get; }</Member>
        <Member type="Property">public bool CanBecomeParent { get; }</Member>
        <Member type="Property">public bool CanBeDeleted { get; }</Member>
        <Member type="Property">public bool CanBeAdopted { get; }</Member>
        <Member type="Property">public bool CanBeCopied { get; }</Member>
        <Member type="Property">public IPersistenceInformation StoredAt { get; }</Member>
        <Member type="Property">public string Name { get; set; }</Member>
        <Member type="Property">public string Summary { get; set; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IProxyDataset</Name>
        <Access>Internal</Access>
        <Location left="1279" top="1482" />
        <Size width="532" height="469" />
        <Collapsed>False</Collapsed>
        <Member type="Property">DatasetId Id { get; }</Member>
        <Member type="Property">bool IsValid { get; }</Member>
        <Member type="Property">bool CanBeDeleted { get; }</Member>
        <Member type="Method">void Delete()</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnDeleted</Member>
        <Member type="Property">bool CanBeAdopted { get; }</Member>
        <Member type="Property">bool CanBeCopied { get; }</Member>
        <Member type="Property">DatasetCreator CreatedBy { get; }</Member>
        <Member type="Property">IPersistenceInformation StoredAt { get; }</Member>
        <Member type="Property">string Name { get; set; }</Member>
        <Member type="Event">event EventHandler&lt;ValueChangedEventArgs&lt;string&gt;&gt; OnNameChanged</Member>
        <Member type="Property">string Summary { get; set; }</Member>
        <Member type="Event">event EventHandler&lt;ValueChangedEventArgs&lt;string&gt;&gt; OnSummaryChanged</Member>
        <Member type="Property">bool IsLoaded { get; }</Member>
        <Member type="Method">IEnumerable&lt;Machine&gt; RunsOn()</Member>
        <Member type="Method">void LoadOntoMachine(LoadingLocation preferredLocation, MachineDistributionRange range)</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnLoaded</Member>
        <Member type="Method">void UnloadFromMachine()</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnUnloaded</Member>
        <Member type="Method">IEnumerable&lt;IProxyDataset&gt; Children()</Member>
        <Member type="Property">bool CanBecomeParent { get; }</Member>
        <Member type="Method">IProxyDataset CreateNewChild(IDatasetCreationInformation newChild)</Member>
        <Member type="Method">IEnumerable&lt;IProxyDataset&gt; CreateNewChildren(IDatasetCreationInformation[] newChildren)</Member>
        <Member type="Property">ProxyCommandSet Commands { get; }</Member>
      </Entity>
      <Entity type="Class">
        <Name>ReadonlyDataset</Name>
        <Access>Internal</Access>
        <Location left="1916" top="1623" />
        <Size width="298" height="163" />
        <Collapsed>False</Collapsed>
        <Member type="Field">DatasetId m_Id</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>what about:
- Commands?</Text>
        <Location left="1916" top="1367" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Comment">
        <Text>Note that the dataset does not chose it's own components. That's what the resolver is for.</Text>
        <Location left="2656" top="738" />
        <Size width="181" height="99" />
      </Entity>
      <Entity type="Comment">
        <Text>Do we need to define how to contact the machine? We may need a specific username or port?</Text>
        <Location left="10" top="638" />
        <Size width="203" height="102" />
      </Entity>
      <Entity type="Class">
        <Name>DatasetId</Name>
        <Access>Public</Access>
        <Location left="3363" top="1081" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Delegate">
        <Name>ProposeDistributionDelegate</Name>
        <Access>Public</Access>
        <Location left="1584" top="864" />
        <Size width="222" height="78" />
        <Collapsed>False</Collapsed>
        <ReturnType>IEnumerable&lt;DistributionPlan&gt;</ReturnType>
        <Param>DatasetRequest request</Param>
      </Entity>
      <Entity type="Comment">
        <Text>Other methods that should be implemented:
- Save
- Execute generator commands
- Execute visualizer commands
- Add / Remove / Link components
</Text>
        <Location left="2306" top="2007" />
        <Size width="295" height="116" />
      </Entity>
      <Entity type="Class">
        <Name>ProxyCommandSet</Name>
        <Access>Internal</Access>
        <Location left="1951" top="2007" />
        <Size width="270" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Method">TCommand CommandsFor&lt;TCommand&gt;()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>The commands in this list are created by a automatically implemented proxy class (DynamicProxy2?). The methods mirror the original command sets that we need.

The only catch is how are we going to make this work. We'd need an interface.</Text>
        <Location left="1978" top="2218" />
        <Size width="243" height="151" />
      </Entity>
      <Entity type="Class">
        <Name>MessageHub</Name>
        <Access>Public</Access>
        <Location left="2984" top="583" />
        <Size width="366" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public TProxy CommandsFor&lt;TProxy&gt;(EndPointId endpoint)</Member>
        <Member type="Method">public TProxy RequestsFor&lt;TProxy&gt;(EndPointId endpoint)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IPersistenceInformation</Name>
        <Access>Public</Access>
        <Location left="3399" top="1446" />
        <Size width="162" height="216" />
        <Collapsed>False</Collapsed>
      </Entity>
      <Entity type="Class">
        <Name>DatasetCreationInformation</Name>
        <Access>Public</Access>
        <Location left="854" top="1611" />
        <Size width="297" height="179" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public IPersistenceInformation LoadFrom { get; set; }</Member>
        <Member type="Property">public DatasetCreator CreatedOnRequestOf { get; set; }</Member>
        <Member type="Property">public bool CanBecomeParent { get; set; }</Member>
        <Member type="Property">public bool CanBeDeleted { get; set; }</Member>
        <Member type="Property">public bool CanBeAdopted { get; set; }</Member>
        <Member type="Property">public bool CanBeCopied { get; set; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Note that by the time we get all the plans back some of them may well be invalid.
How are we going to deal with that?</Text>
        <Location left="10" top="376" />
        <Size width="197" height="114" />
      </Entity>
      <Entity type="Comment">
        <Text>The client sends the distribution out to all the available hosts it knows about (the config file indicates how far it can go?). These hosts then create a proposal of how they would approach the problem and send that back. Then the client can decide on which host to use.</Text>
        <Location left="365" top="846" />
        <Size width="262" height="139" />
      </Entity>
      <Entity type="Class">
        <Name>Machine</Name>
        <Access>Public</Access>
        <Location left="389" top="638" />
        <Size width="195" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public MachineId Id { get; }</Member>
        <Member type="Property">public string DomainName { get; }</Member>
        <Member type="Property">public bool IsLocalMachine { get; }</Member>
        <Member type="Property">public bool IsPartOfGroup { get; }</Member>
        <Member type="Property">public string GroupIdentifier { get; }</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Do we want to have a staged approach to the distribution? So first we go out to all the stand-alone machines, then to the local cluster, then to the WAN cluster etc. etc.. The choice of where to go first could be dictated by the user preferences (for the project) and the desired distribution locality</Text>
        <Location left="10" top="846" />
        <Size width="270" height="139" />
      </Entity>
      <Entity type="Interface">
        <Name>IHelpDistributingDatasets</Name>
        <Access>Public</Access>
        <Location left="788" top="878" />
        <Size width="459" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IObservable&lt;DistributionPlan&gt; ProposeDistributionFor(DatasetRequest request)</Member>
      </Entity>
    </Entities>
    <Relationships>
      <Relationship type="Association" first="2" second="1">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2312</X>
          <Y>806</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2312</X>
          <Y>775</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Aggregation</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="6" second="5">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2525</X>
          <Y>497</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2525</X>
          <Y>555</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="9" second="3">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>754</X>
          <Y>1133</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>687</X>
          <Y>1133</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="9" second="4">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1085</X>
          <Y>1251</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1085</X>
          <Y>1303</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="8" second="5">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2220</X>
          <Y>965</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2401</X>
          <Y>613</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="8" second="2">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2316</X>
          <Y>983</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2316</X>
          <Y>923</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="8" second="10">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2021</X>
          <Y>1103</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1897</X>
          <Y>1103</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="11" second="3">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>357</X>
          <Y>1251</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>357</X>
          <Y>1228</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="9" second="10">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="17" second="16">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="10" second="16">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="7" second="5">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>2559</X>
          <Y>558</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="19" second="5">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>2533</X>
          <Y>669</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="8" second="17">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="15" second="21">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3320</X>
          <Y>1206</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3430</X>
          <Y>1183</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="14" second="21">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3358</X>
          <Y>1005</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3430</X>
          <Y>1046</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="8" second="22">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2103</X>
          <Y>995</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1854</X>
          <Y>901</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="18" second="10">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1897</X>
          <Y>1200</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="17" second="24">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2098</X>
          <Y>1813</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2098</X>
          <Y>1982</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="25" second="24">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="23" second="24">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="14" second="26">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3159</X>
          <Y>871</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3159</X>
          <Y>719</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="15" second="27">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3320</X>
          <Y>1242</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="8" second="14">
        <Label>store by ID</Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
        <StartMultiplicity>1</StartMultiplicity>
        <EndMultiplicity>0..*</EndMultiplicity>
      </Relationship>
      <Relationship type="Association" first="8" second="15">
        <Label>store by ID</Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2483</X>
          <Y>1112</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2959</X>
          <Y>1248</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
        <StartMultiplicity>1</StartMultiplicity>
        <EndMultiplicity>0..*</EndMultiplicity>
      </Relationship>
      <Relationship type="Association" first="17" second="8">
        <Label>links</Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>2175</X>
          <Y>1176</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="29" second="13">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="13" second="31">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="20" second="31">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="32" second="30">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="16" second="28">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="22" second="12">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="33" second="13">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>850</X>
          <Y>849</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>679</X>
          <Y>433</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="30" second="33">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="22" second="33">
        <Label>Links to</Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="9" second="33">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
    </Relationships>
  </ProjectItem>
  <ProjectItem type="NClass.DiagramEditor.ClassDiagram.Diagram" assembly="NClass.DiagramEditor, Version=2.3.1512.0, Culture=neutral, PublicKeyToken=null">
    <Name>Project - dataset application</Name>
    <Language>CSharp</Language>
    <Entities>
      <Entity type="Class">
        <Name>EntryPoint</Name>
        <Access>Internal</Access>
        <Location left="498" top="477" />
        <Size width="196" height="113" />
        <Collapsed>False</Collapsed>
        <Member type="Method">static int Main(string[] args)</Member>
        <Modifier>Static</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DatasetBuilder</Name>
        <Access>Internal</Access>
        <Location left="612" top="716" />
        <Size width="296" height="128" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public static implicit operator Dataset(DatasetBuilder builder)</Member>
        <Member type="Method">public DatasetBuilder AsSimulation()</Member>
        <Member type="Method">public DatasetBuilder AsExperiment()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>The start-up arguments are:
- A description of the communication channel.
- ??</Text>
        <Location left="527" top="163" />
        <Size width="297" height="136" />
      </Entity>
      <Entity type="Comment">
        <Text>How do we deal with components? The core part of the application is in charge of picking the right ones, but we'll still need to be able to load them. For that we'll need loading information from somewhere.
The application can provide the exact assembly details (name, version number, public key etc.) but we'll need to know where to find the files.</Text>
        <Location left="209" top="163" />
        <Size width="296" height="159" />
      </Entity>
      <Entity type="Comment">
        <Text>The dataset does not determine which components to load. The selection of the correct component type is done by the IComponentResolver in the project. Note that this requires that the dataset can always call back to the project.</Text>
        <Location left="2349" top="1553" />
        <Size width="227" height="153" />
      </Entity>
      <Entity type="Comment">
        <Text>The component service is responsible for component loading and also tracking which components exist in a data set.</Text>
        <Location left="933" top="1624" />
        <Size width="203" height="92" />
      </Entity>
      <Entity type="Comment">
        <Text>Load types asynchronuously. The idea is to load the assemblies in an async way so that we're not waiting for them for too long.</Text>
        <Location left="2164" top="1375" />
        <Size width="211" height="102" />
      </Entity>
      <Entity type="Interface">
        <Name>IComponentBuilder</Name>
        <Access>Internal</Access>
        <Location left="1833" top="1827" />
        <Size width="459" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IEnumerable&lt;IComponent&gt; Load(params ComponentDescription[] descriptions)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>IComponentService</Name>
        <Access>Internal</Access>
        <Location left="1173" top="1375" />
        <Size width="556" height="146" />
        <Collapsed>False</Collapsed>
        <Member type="Method">ComponentId AddComponent(ComponentDescription description)</Member>
        <Member type="Method">ComponentId AddComponent(ComponentDescription description, params IComponentLink[] links)</Member>
        <Member type="Method">IComponentGroup AddComponents(IComponentTemplate template)</Member>
        <Member type="Method">void RemoveComponent(ComponentId componentToRemove)</Member>
        <Member type="Method">void RemoveComponentGroup(IComponentGroup groupToRemove)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>IExecutor</Name>
        <Access>Internal</Access>
        <Location left="435" top="1798" />
        <Size width="363" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">ExecutionToken Execute(IProcessSchedule scheduleToExecute)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>IHistory</Name>
        <Access>Internal</Access>
        <Location left="333" top="1530" />
        <Size width="162" height="99" />
        <Collapsed>False</Collapsed>
      </Entity>
      <Entity type="Class">
        <Name>ComponentService</Name>
        <Access>Internal</Access>
        <Location left="1403" top="1757" />
        <Size width="162" height="216" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>ComponentBuilder</Name>
        <Access>Internal</Access>
        <Location left="1947" top="1539" />
        <Size width="198" height="153" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IComponent</Name>
        <Access>Internal</Access>
        <Location left="1397" top="2092" />
        <Size width="174" height="95" />
        <Collapsed>False</Collapsed>
        <Member type="Property">ComponentId Id { get; }</Member>
        <Member type="Property">object Component { get; }</Member>
      </Entity>
      <Entity type="Structure">
        <Name>ObjectDescription</Name>
        <Access>Public</Access>
        <Location left="1833" top="2252" />
        <Size width="438" height="128" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public TypeDescription TypeToLoad { get; }</Member>
        <Member type="Method">public IComponent PermanentCoworkersByIndex(int constructorParameterIndex)</Member>
        <Member type="Method">public IComponent PermanentCoworkersByName(string coworkerName)</Member>
      </Entity>
      <Entity type="Comment">
        <Text>How do object links come into this?
- coworkers
- usage / encapsulate
- construction links, e.g. one object relies on another for construction (either directly or indirectly, e.g. mesh - geometry)

Note that objects may only be linked when they're executing. This is especially useful for actions.</Text>
        <Location left="848" top="1731" />
        <Size width="294" height="167" />
      </Entity>
      <Entity type="Comment">
        <Text>Allow objects / components to indicate which of their coworkers are read, write or read/write connections. That way we can trace which components get changed by whom.

For data components this should lead to a hierarchy of components. e.g. geometry - mesh</Text>
        <Location left="848" top="1917" />
        <Size width="294" height="165" />
      </Entity>
      <Entity type="Comment">
        <Text>Dispatches incomming messages to the correct recipient.</Text>
        <Location left="1440" top="307" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Comment">
        <Text>To create sub-datasets we create a DatasetRequest and send that over the wire to the application.</Text>
        <Location left="1011" top="786" />
        <Size width="180" height="97" />
      </Entity>
      <Entity type="Class">
        <Name>DatasetRequest</Name>
        <Access>Public</Access>
        <Location left="915" top="971" />
        <Size width="334" height="179" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public DatasetOfflineInformation DatasetToLoad { get; }</Member>
        <Member type="Property">public DatasetId Parent { get; }</Member>
        <Member type="Property">public bool ProvideParentWithHubConnection { get; }</Member>
        <Member type="Property">public ExpectedDatasetLoad ExpectedLoadPerMachine { get; }</Member>
        <Member type="Property">public LoadingLocation PreferredLoadingLocation { get; }</Member>
        <Member type="Property">public Range&lt;int&gt; DesiredDistributionRange { get; }</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>Dataset</Name>
        <Access>Internal</Access>
        <Location left="597" top="1277" />
        <Size width="288" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public void RegisterCommandSet(ICommandSet set)</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Structure">
        <Name>TypeDescription</Name>
        <Access>Public</Access>
        <Location left="2467" top="2070" />
        <Size width="273" height="247" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public AssemblyDescription Assembly { get; }</Member>
        <Member type="Property">public string Name { get; }</Member>
        <Member type="Property">public string Namespace { get; }</Member>
        <Member type="Property">public string FullName { get; }</Member>
        <Member type="Property">public TypeDescription BaseType { get; }</Member>
        <Member type="Property">public bool IsAbstract { get; }</Member>
        <Member type="Property">public bool IsClass { get; }</Member>
        <Member type="Property">public bool IsInterface { get; }</Member>
        <Member type="Property">public bool IsSystem { get; }</Member>
        <Member type="Method">public IEnumerable&lt;TypeDescription&gt; Interfaces()</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Do we make a component by creating a proxy interface for a series of objects?</Text>
        <Location left="1397" top="2252" />
        <Size width="174" height="85" />
      </Entity>
      <Entity type="Structure">
        <Name>ComponentDescription</Name>
        <Access>Public</Access>
        <Location left="1881" top="2015" />
        <Size width="316" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public TypeDescription ComponentInterface { get; }</Member>
        <Member type="Method">public IEnumerable&lt;ObjectDescription&gt; BackEndObjects()</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Do we want member info too?</Text>
        <Location left="2527" top="1917" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Structure">
        <Name>AssemblyDescription</Name>
        <Access>Public</Access>
        <Location left="2451" top="2401" />
        <Size width="304" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public string FullName { get; }</Member>
        <Member type="Property">public bool IsInGlobalAssemblyCache { get; }</Member>
        <Member type="Property">public bool IsSystem { get; }</Member>
        <Member type="Property">public string Location { get; }</Member>
        <Member type="Method">public IEnumerable&lt;AssemblyDescription&gt; References()</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Remember that modules and assemblies are actually separate. We need to allow having one assembly with multiple modules and visa versa</Text>
        <Location left="2507" top="2622" />
        <Size width="193" height="106" />
      </Entity>
      <Entity type="Interface">
        <Name>IDataSet</Name>
        <Access>Internal</Access>
        <Location left="23" top="1248" />
        <Size width="310" height="180" />
        <Collapsed>False</Collapsed>
        <Member type="Property">DatasetId Id { get; }</Member>
        <Member type="Property">string Name { get; set; }</Member>
        <Member type="Property">string Description { get; set; }</Member>
        <Member type="Method">void Save(Stream persistenceStream)</Member>
        <Member type="Method">TCommand CommandsFor&lt;TCommand&gt;()</Member>
        <Member type="Method">CommandSet CommandsFor(Type commandType)</Member>
        <Member type="Method">IEnumerable&lt;Type&gt; AvailableCommands()</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Should be able to request an assembly to be streamed to the local machine. This is needed when we don't have the right plug-in assembly.</Text>
        <Location left="1774" top="1355" />
        <Size width="208" height="122" />
      </Entity>
      <Entity type="Class">
        <Name>MessageHub</Name>
        <Access>Public</Access>
        <Location left="1330" top="482" />
        <Size width="366" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public TProxy CommandsFor&lt;TProxy&gt;(EndPointId endpoint)</Member>
        <Member type="Method">public void RegisterRequestHandler(RequestId id, Action handler)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Remember versions and cultures. They're a pain in the behind but we'll need to store them.</Text>
        <Location left="2136" top="2495" />
        <Size width="180" height="95" />
      </Entity>
      <Entity type="Comment">
        <Text>A dataset needs to be able to split itself into parts.</Text>
        <Location left="317" top="985" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Comment">
        <Text>Distribution of dataset or its children.</Text>
        <Location left="462" top="1113" />
        <Size width="159" height="57" />
      </Entity>
      <Entity type="Comment">
        <Text>Child datasets are probably created on disk first. They may be loaded onto the same machine but won't be loaded into the same process anyway.</Text>
        <Location left="526" top="930" />
        <Size width="193" height="106" />
      </Entity>
    </Entities>
    <Relationships>
      <Relationship type="Comment" first="2" second="0">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>610</X>
          <Y>417</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="0" second="1">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>559</X>
          <Y>615</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>568</X>
          <Y>789</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="3" second="0">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>291</X>
          <Y>348</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>473</X>
          <Y>541</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="11" second="8">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="11" second="7">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="12" second="7">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="15" second="11">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="16" second="11">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1378</X>
          <Y>1931</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="5" second="11">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1164</X>
          <Y>1668</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1449</X>
          <Y>1722</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="6" second="12">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2257</X>
          <Y>1502</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2170</X>
          <Y>1606</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="4" second="12">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="18" second="19">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="20" second="10">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>668</X>
          <Y>1397</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="20" second="9">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>742</X>
          <Y>1401</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="20" second="8">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>930</X>
          <Y>1325</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="20" second="19">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>836</X>
          <Y>1245</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="1" second="20">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="11" second="13">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
        <StartMultiplicity>1</StartMultiplicity>
        <EndMultiplicity>0..*</EndMultiplicity>
      </Relationship>
      <Relationship type="Comment" first="22" second="13">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="7" second="23">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="23" second="14">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
        <StartMultiplicity>1</StartMultiplicity>
        <EndMultiplicity>1..*</EndMultiplicity>
      </Relationship>
      <Relationship type="Association" first="23" second="21">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="14" second="21">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>2442</X>
          <Y>2265</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="24" second="21">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="21" second="25">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
        <StartMultiplicity>1</StartMultiplicity>
        <EndMultiplicity>1</EndMultiplicity>
      </Relationship>
      <Relationship type="Comment" first="26" second="25">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="22" second="23">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1608</X>
          <Y>2289</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1821</X>
          <Y>2059</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="20" second="27">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="28" second="12">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1988</X>
          <Y>1514</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="17" second="29">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="0" second="29">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>734</X>
          <Y>533</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="12" second="29">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1757</X>
          <Y>530</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="20" second="29">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>932</X>
          <Y>1308</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="30" second="25">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="32" second="20">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>650</X>
          <Y>1248</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="31" second="32">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="33" second="32">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
    </Relationships>
  </ProjectItem>
  <ProjectItem type="NClass.DiagramEditor.ClassDiagram.Diagram" assembly="NClass.DiagramEditor, Version=2.3.1512.0, Culture=neutral, PublicKeyToken=null">
    <Name>Project - Communication</Name>
    <Language>CSharp</Language>
    <Entities>
      <Entity type="Interface">
        <Name>ICommunicationLayer</Name>
        <Access>Internal</Access>
        <Location left="1774" top="457" />
        <Size width="713" height="265" />
        <Collapsed>False</Collapsed>
        <Member type="Property">EndpointId Id { get; }</Member>
        <Member type="Property">bool IsSignedIn { get; }</Member>
        <Member type="Method">IEnumerable&lt;ChannelConnectionInformation&gt; LocalConnectionPoints()</Member>
        <Member type="Method">void SignIn()</Member>
        <Member type="Method">void SignOut()</Member>
        <Member type="Event">event EventHandler&lt;ConnectionInformationEventArgs&gt; OnEndpointSignedIn</Member>
        <Member type="Event">event EventHandler&lt;EndpointEventArgs&gt; OnEndpointSignedOut</Member>
        <Member type="Method">bool IsEndpointContactable(EndpointId endpoint)</Member>
        <Member type="Method">void ConnectToEndpoint(EndpointId endpoint)</Member>
        <Member type="Method">void SendMessageTo(EndpointId endpoint, ICommunicationMessage message)</Member>
        <Member type="Method">Task&lt;ICommunicationMessage&gt; SendMessageAndWaitForResponse(EndpointId endpoint, ICommunicationMessage message)</Member>
        <Member type="Method">void DisconnectFromEndpoint(EndpointId endpoint)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>ICommunicationChannel</Name>
        <Access>Internal</Access>
        <Location left="2709" top="1475" />
        <Size width="669" height="231" />
        <Collapsed>False</Collapsed>
        <Member type="Property">EndpointId Id { get; }</Member>
        <Member type="Method">IConnectionInfo OpenChannel()</Member>
        <Member type="Method">void Close()</Member>
        <Member type="Method">void ConnectTo(ChannelConnectionInformation connection)</Member>
        <Member type="Method">void DisconnectFrom(EndpointId endpoint)</Member>
        <Member type="Method">Tuple&lt;StreamTransferInformation, Task&lt;FileInfo&gt;&gt; PrepareForDataReception(string localFile, CancellationToken token)</Member>
        <Member type="Method">Task TransferData(string filePath, TransferInformation transferInformation, CancellationToken token)</Member>
        <Member type="Method">void Send(EndpointId endpoint, ICommunicationMessage messageToSend)</Member>
        <Member type="Event">event EventHandler&lt;MessageEventArgs&gt; OnReceive</Member>
        <Member type="Event">event EventHandler&lt;ChannelClosedEventArgs&gt; OnClosed</Member>
      </Entity>
      <Entity type="Class">
        <Name>NamedPipeChannel</Name>
        <Access>Internal</Access>
        <Location left="2482" top="2679" />
        <Size width="679" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public Uri GenerateNewChannelUri()</Member>
        <Member type="Method">public string GenerateNewAddress()</Member>
        <Member type="Method">public Binding GenerateBinding()</Member>
        <Member type="Method">public Tuple&lt;StreamTransferInformation, Task&lt;FileInfo&gt;&gt; PrepareForDataReception(string localFile, CancellationToken token)</Member>
        <Member type="Method">public Task TransferData(string filePath, StreamTransferInformation transferInformation, CancellationToken token)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>TcpChannel</Name>
        <Access>Internal</Access>
        <Location left="3246" top="2679" />
        <Size width="679" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public Uri GenerateNewChannelUri()</Member>
        <Member type="Method">public string GenerateNewAddress()</Member>
        <Member type="Method">public Binding GenerateBinding()</Member>
        <Member type="Method">public Tuple&lt;StreamTransferInformation, Task&lt;FileInfo&gt;&gt; PrepareForDataReception(string localFile, CancellationToken token)</Member>
        <Member type="Method">public Task TransferData(string filePath, StreamTransferInformation transferInformation, CancellationToken token)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>ICommunicationMessage</Name>
        <Access>Internal</Access>
        <Location left="727" top="1921" />
        <Size width="244" height="112" />
        <Collapsed>False</Collapsed>
        <Member type="Property">MessageId Id { get; }</Member>
        <Member type="Property">MessageId InResponseTo { get; }</Member>
        <Member type="Property">EndpointId OriginatingEndpoint { get; }</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Need a good abstraction for datastreaming. For named pipes we can share a memory block, but for P2P and TCP we need some streaming download. Probably chunked, restartable and compressed.</Text>
        <Location left="4052" top="2405" />
        <Size width="215" height="142" />
      </Entity>
      <Entity type="Class">
        <Name>MessageId</Name>
        <Access>Internal</Access>
        <Location left="749" top="1754" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Should be allowed to start a channel with given connection parameters. This is necessary for:
- Initial start of the dataset application
- Reconnecting to a lost dataset application / service.</Text>
        <Location left="1957" top="828" />
        <Size width="265" height="123" />
      </Entity>
      <Entity type="Class">
        <Name>RemoteCommandHub</Name>
        <Access>Public</Access>
        <Location left="477" top="467" />
        <Size width="392" height="196" />
        <Collapsed>False</Collapsed>
        <Member type="Event">public event EventHandler&lt;CommandSetAvailabilityEventArgs&gt; OnEndpointSignedIn</Member>
        <Member type="Event">public event EventHandler&lt;EndpointEventArgs&gt; OnEndpointSignedOff</Member>
        <Member type="Method">public bool HasCommandsFor(EndpointId endpoint)</Member>
        <Member type="Method">public bool HasCommandFor(EndpointId endpoint, Type commandInterfaceType)</Member>
        <Member type="Method">public TCommands CommandsFor&lt;TCommands&gt;(EndpointId endpoint)</Member>
        <Member type="Method">public void CloseConnectionTo(EndpointId endpoint)</Member>
        <Member type="Method">public void CloseConnections()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Can have a method that returns a facade object. This facade object can then contain all the required methods for sending messages. e.g. there could be a DatasetFacade object which contains all the methods necessary for communicating with the dataset.

This should help fix the problem of messages and needing to have one method per message etc..</Text>
        <Location left="706" top="190" />
        <Size width="293" height="172" />
      </Entity>
      <Entity type="Class">
        <Name>CommandSet</Name>
        <Access>Public</Access>
        <Location left="599" top="1143" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Abstract</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>CommunicationLayer</Name>
        <Access>Internal</Access>
        <Location left="2739" top="523" />
        <Size width="422" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Field">IDictionary&lt;EndpointId, ICommunicationChannel&gt; m_OpenConnections</Member>
        <Member type="Field">IDictionary&lt;EndpointId, IConnectionInformation&gt; m_PotentialEndpoints</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>CommunicationChannelCommands</Name>
        <Access>Public</Access>
        <Location left="453" top="1378" />
        <Size width="215" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>We can use the protocol buffers to smash the message into a transferable format</Text>
        <Location left="3675" top="1915" />
        <Size width="170" height="96" />
      </Entity>
      <Entity type="Comment">
        <Text>It may well make sense to compress the messages by using a GZIP compression</Text>
        <Location left="3805" top="2920" />
        <Size width="160" height="93" />
      </Entity>
      <Entity type="Comment">
        <Text>We'd like the stream to be resumable so:
- Use a chunking approach
- Check that every chunk arrived correctly and put it on the disk, move on to the next chunk and remember where we were at.
- Possibly can be done in parallel because we don't really care in what order stuff comes in, just that it all arrives in the end.

See: 
- http://msdn.microsoft.com/en-us/library/aa717050.aspx
- http://stackoverflow.com/questions/2819081/memorystream-and-large-object-heap
-http://stackoverflow.com/questions/451376/file-download-through-wcf-slower-than-through-iis</Text>
        <Location left="4377" top="2350" />
        <Size width="514" height="240" />
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 1:
The network is reliable:
- Connections get interupted
- Messages can get lost
- Downloads get interupted
==&gt; Handle this, but we don't care about message arrival if the other side disappears. Then we just restart the process.
</Text>
        <Location left="2140" top="1563" />
        <Size width="339" height="133" />
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 2:
Latency is zero:
- It takes a finite amount of time to do anything on a network
==&gt; Async processing seems the logical choice, that way you force consumers to acknowledge that things may take time.
==&gt; Don't do a chatty system. Do terse systems with fat messages.
==&gt; Take into account that data access may take time, provide progress measurements and indications everywhere.</Text>
        <Location left="334" top="146" />
        <Size width="339" height="215" />
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 3:
Bandwidth is infinite:
- We're getting connections with more bandwidth every day BUT packet loss is real and the further the data has to travel the more likely it is to get lost.
- The sender can't control the packet loss, so be prepared to resend the data (TCP does this for us).
==&gt; Packet size may not be under our control but still the goal is to send fat messages.</Text>
        <Location left="1656" top="195" />
        <Size width="339" height="171" />
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 4:
The network is secure:
==&gt; Make sure that security is a part of the orginal design.</Text>
        <Location left="10" top="10" />
        <Size width="339" height="76" />
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 5:
Topology doesn't change:
- It does, all the time. More so for clients than for servers but still.
==&gt; Do not rely on a specific machine. Get machines to broadcast their presence if they are on the network and ready to work. Ditto for going offline. WCF-discovery should work for this.</Text>
        <Location left="2043" top="195" />
        <Size width="339" height="152" />
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 6:
There is one administrator:
- There are probably more administrators and they all control their own little section
==&gt; Upgrades, how do we control them. Do we need forward or backward compatibility.
==&gt; Diagnosing problems is done by the admins, not the dev team so we'll need to provide them with the tools to do so.</Text>
        <Location left="2140" top="1384" />
        <Size width="339" height="172" />
      </Entity>
      <Entity type="Class">
        <Name>EndpointId</Name>
        <Access>Public</Access>
        <Location left="2769" top="317" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>MachineCommands</Name>
        <Access>Public</Access>
        <Location left="687" top="1378" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>CommunicationChannel</Name>
        <Access>Internal</Access>
        <Location left="2845" top="2047" />
        <Size width="679" height="281" />
        <Collapsed>False</Collapsed>
        <Member type="Field">IMessagePipe m_Receiver</Member>
        <Member type="Field">ISendingEndpoint m_Sender</Member>
        <Member type="Property">public EndpointId Id { get; }</Member>
        <Member type="Method">public IConnectionInfo OpenChannel()</Member>
        <Member type="Method">public void Close()</Member>
        <Member type="Method">public void ConnectTo(ChannelConnectionInformation connection)</Member>
        <Member type="Method">public void DisconnectFrom(EndpointId endpoint)</Member>
        <Member type="Method">public Tuple&lt;StreamTransferInformation, Task&lt;FileInfo&gt;&gt; PrepareForDataReception(string localFile, CancellationToken token)</Member>
        <Member type="Method">public Task TransferData(string filePath, TransferInformation transferInformation, CancellationToken token)</Member>
        <Member type="Method">public void Send(EndpointId endpoint, ICommunicationMessage messageToSend)</Member>
        <Member type="Event">public event EventHandler&lt;MessageEventArgs&gt; OnReceive</Member>
        <Member type="Event">public event EventHandler&lt;ChannelClosedEventArgs&gt; OnClosed</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>ISendingEndpoint</Name>
        <Access>Public</Access>
        <Location left="2278" top="2248" />
        <Size width="358" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">void Send(EndpointId id, ICommunicationMessage message)</Member>
      </Entity>
      <Entity type="Class">
        <Name>ResurrectingWcfChannelProxy&lt;T&gt;</Name>
        <Access>Public</Access>
        <Location left="1881" top="2248" />
        <Size width="289" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public void Send(ICommunicationMessage message)</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>http://kentb.blogspot.com/2010/01/wcf-channels-faulting-and-dependency.html</Text>
        <Location left="1780" top="2098" />
        <Size width="455" height="50" />
      </Entity>
      <Entity type="Comment">
        <Text>Do we need to keep a list of all services that are available? Not everybody will need it but some will (e.g. apollo.core and apollo.core.loaderservice).</Text>
        <Location left="3022" top="135" />
        <Size width="181" height="114" />
      </Entity>
      <Entity type="Comment">
        <Text>Need to be able to broadcast that we're on the network and that we're getting off the network.</Text>
        <Location left="3022" top="326" />
        <Size width="181" height="90" />
      </Entity>
      <Entity type="Interface">
        <Name>IProcessIncomingMessages</Name>
        <Access>Internal</Access>
        <Location left="3510" top="1600" />
        <Size width="339" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">void ProcessMessage(ICommunicationMessage message)</Member>
      </Entity>
      <Entity type="Class">
        <Name>MessageHandler</Name>
        <Access>Internal</Access>
        <Location left="3201" top="1203" />
        <Size width="498" height="128" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public Task&lt;ICommunicationMessage&gt; ForwardResponse(MessageId inResponseTo)</Member>
        <Member type="Method">public void ActOnArrival(IMessageFilter messageFilter, IMessageProcessAction notifyAction)</Member>
        <Member type="Method">public void ProcessMessage(ICommunicationMessage message)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IMessageProcessAction</Name>
        <Access>Internal</Access>
        <Location left="3917" top="1330" />
        <Size width="290" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">void Invoke(ICommunicationMessage message)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>IMessageFilter</Name>
        <Access>Internal</Access>
        <Location left="3917" top="1168" />
        <Size width="324" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">bool PassThrough(ICommunicationMessage message)</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Remember that datasets may become very large so the streaming capabilities should be able to handle large blocks of data without issue.</Text>
        <Location left="4052" top="2635" />
        <Size width="215" height="107" />
      </Entity>
      <Entity type="Comment">
        <Text>Expecting:
- Disconnect (Comm. system)
- StreamUpload (Comm. system)
- StreamDownload (Comm. system)
- Failure (Comm. system)
- Ping (Comm. system)
- Command (defines command type + parameters)</Text>
        <Location left="4406" top="1203" />
        <Size width="323" height="188" />
      </Entity>
      <Entity type="Class">
        <Name>DiscoveryChannel</Name>
        <Access>Internal</Access>
        <Location left="3901" top="527" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IDiscoverOtherServices</Name>
        <Access>Internal</Access>
        <Location left="3260" top="501" />
        <Size width="455" height="129" />
        <Collapsed>False</Collapsed>
        <Member type="Event">event EventHandler&lt;ConnectionInformationEventArgs&gt; OnServiceBecomingAvailable</Member>
        <Member type="Event">event EventHandler&lt;EndpointId&gt; OnServiceBecomingUnavailable</Member>
        <Member type="Method">void AnnounceLogOn()</Member>
        <Member type="Method">void AnnounceLogOff()</Member>
      </Entity>
      <Entity type="Comment">
        <Text>This channel is used only for discovery of other services.</Text>
        <Location left="3260" top="341" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Comment">
        <Text>Used to map an endpoint to the command set. The channel may change (if it dies or the dataset is moved) but the EndpointId should stay the same.</Text>
        <Location left="2758" top="108" />
        <Size width="183" height="117" />
      </Entity>
      <Entity type="Interface">
        <Name>IReceivingEndpoint</Name>
        <Access>Public</Access>
        <Location left="1652" top="1965" />
        <Size width="335" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">void AcceptMessage(ICommunicationMessage message)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>IMessageReceptionAction</Name>
        <Access>Public</Access>
        <Location left="1488" top="679" />
        <Size width="212" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">void Receive(IMessage message)</Member>
      </Entity>
      <Entity type="Class">
        <Name>ResponseReceptionAction</Name>
        <Access>Public</Access>
        <Location left="1410" top="860" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>RequestReceptionAction</Name>
        <Access>Public</Access>
        <Location left="1612" top="860" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>The CommandSet is defined on by the owner of the CommandSet. The MessageHub will invoke the given commands when a message arrives from the other side.

On the other side the MessageHub will use the CommandSet interface to create a proxy that will send out a message with the right information to invoke the command on the owners side.</Text>
        <Location left="53" top="419" />
        <Size width="257" height="205" />
      </Entity>
      <Entity type="Class">
        <Name>EndpointDisconnectMessage</Name>
        <Access>Internal</Access>
        <Location left="396" top="1809" />
        <Size width="192" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public string ClosingReason { get; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>RequestStreamTransferMessage</Name>
        <Access>Internal</Access>
        <Location left="1267" top="2350" />
        <Size width="331" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public FileDescription File { get; }</Member>
        <Member type="Property">public StreamTransferInformation TransferInformation { get; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>FailureMessage</Name>
        <Access>Internal</Access>
        <Location left="217" top="2111" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>CommandInvokedMessage</Name>
        <Access>Internal</Access>
        <Location left="643" top="2675" />
        <Size width="290" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public ISerializedMethodInvocation Invocation { get; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Note that these don't have to be comparable but they do have to be equatable.</Text>
        <Location left="1014" top="1754" />
        <Size width="166" height="80" />
      </Entity>
      <Entity type="Interface">
        <Name>ICommandSet</Name>
        <Access>Public</Access>
        <Location left="453" top="920" />
        <Size width="456" height="147" />
        <Collapsed>False</Collapsed>
        <Member type="Event">event EventHandler&lt;CommandSetAvailabilityEventArgs&gt; OnAvailabilityChange</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnInvalidate</Member>
      </Entity>
      <Entity type="Comment">
        <Text>We're adding an interfae these because these interfaces are needed in the core application so that we can build a dynamic proxy for them in order to mirror the command set.</Text>
        <Location left="298" top="734" />
        <Size width="216" height="114" />
      </Entity>
      <Entity type="Interface">
        <Name>IMachineCommands</Name>
        <Access>Public</Access>
        <Location left="833" top="1143" />
        <Size width="585" height="95" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IObservable&lt;string&gt; DetermineMissingOrIncorrectAssemblies(IEnumerable&lt;string&gt; requiredAssemblies)</Member>
        <Member type="Method">IObservable TransferAssembly(string assemblyPath)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>ICommunicationChannelCommands</Name>
        <Access>Public</Access>
        <Location left="115" top="1143" />
        <Size width="428" height="112" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IObservable&lt;EndpointId&gt; ReEstablishConnection(EndpointId oldEndpoint)</Member>
        <Member type="Method">IObservable Ping(EndpointId endpoint)</Member>
        <Member type="Method">IObservable Transfer(Stream data)</Member>
      </Entity>
      <Entity type="Class">
        <Name>EndpointInformationResponseMessage</Name>
        <Access>Internal</Access>
        <Location left="93" top="2373" />
        <Size width="308" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public IList&lt;ISerializedType&gt; AvailableCommands { get; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>The discovery channel needs to be there all the time because endpoints may come and go at random times.</Text>
        <Location left="3260" top="135" />
        <Size width="160" height="103" />
      </Entity>
      <Entity type="Comment">
        <Text>Note that the collection of potential enpoints is just that due to the fact that it is possible that the endpoints randomly disappear due to unreliability of the network.</Text>
        <Location left="2477" top="350" />
        <Size width="191" height="124" />
      </Entity>
      <Entity type="Comment">
        <Text>Should check that the return value is either one of:
- void
- Task
- IObservable

And all parameters need to be serializable.</Text>
        <Location left="1107" top="75" />
        <Size width="255" height="139" />
      </Entity>
      <Entity type="Class">
        <Name>CommandProxyBuilder</Name>
        <Access>Internal</Access>
        <Location left="1143" top="354" />
        <Size width="410" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Field">Dictionairy&lt;Type, object&gt; m_ProxyCache</Member>
        <Member type="Method">public object ProxyConnectingTo(Type interfaceType, EndpointId endpoint)</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Can we use Dynamic for this?</Text>
        <Location left="1392" top="138" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Interface">
        <Name>IChannelType</Name>
        <Access>Public</Access>
        <Location left="2845" top="2396" />
        <Size width="688" height="146" />
        <Collapsed>False</Collapsed>
        <Member type="Method">Uri GenerateNewChannelUri()</Member>
        <Member type="Method">string GenerateNewAddress()</Member>
        <Member type="Method">Binding GenerateBinding()</Member>
        <Member type="Method">Tuple&lt;StreamTransferInformation, Task&lt;FileInfo&gt;&gt; PrepareForDataReception(string localFile, CancellationToken token)</Member>
        <Member type="Method">Task TransferData(string filePath, StreamTransferInformation transferInformation, CancellationToken token)</Member>
      </Entity>
      <Entity type="Class">
        <Name>SendingEndpoint</Name>
        <Access>Public</Access>
        <Location left="2278" top="2473" />
        <Size width="369" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Field">Dictionairy&lt;EndpointId, IChannelProxy&gt; m_Endpoints</Member>
        <Member type="Method">public void Send(EndpointId id, ICommunicationMessage message)</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IChannelProxy</Name>
        <Access>Public</Access>
        <Location left="1881" top="2473" />
        <Size width="281" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">void Send(ICommunicationMessage message)</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Really only need one of these. They can send messages to all known endpoints.</Text>
        <Location left="2526" top="1296" />
        <Size width="200" height="80" />
      </Entity>
      <Entity type="Interface">
        <Name>IMessagePipe</Name>
        <Access>Public</Access>
        <Location left="2140" top="1965" />
        <Size width="311" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Event">event EventHandler&lt;MessageEventArgs&gt; OnNewMessage</Member>
      </Entity>
      <Entity type="Class">
        <Name>ReceivingEndpoint</Name>
        <Access>Public</Access>
        <Location left="2140" top="1781" />
        <Size width="346" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public void AcceptMessage(ICommunicationMessage message)</Member>
        <Member type="Event">public event EventHandler&lt;MessageEventArgs&gt; OnNewMessage</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>StreamTransferInformation</Name>
        <Access>Internal</Access>
        <Location left="3102" top="3186" />
        <Size width="196" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public long StartPosition { get; set; }</Member>
        <Modifier>Abstract</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>CommunicationMessage</Name>
        <Access>Internal</Access>
        <Location left="643" top="2131" />
        <Size width="413" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Constructor">protected CommunicationMessage(EndpointId origin)</Member>
        <Member type="Constructor">protected CommunicationMessage(EndpointId origin, MessageId inResponseTo)</Member>
        <Member type="Property">public MessageId Id { get; }</Member>
        <Member type="Property">public MessageId InResponseTo { get; }</Member>
        <Member type="Property">public EndpointId OriginatingEndpoint { get; }</Member>
        <Modifier>Abstract</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>StreamAvailableForTransferMessage</Name>
        <Access>Internal</Access>
        <Location left="1316" top="2145" />
        <Size width="231" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>TcpStreamTransferInformation</Name>
        <Access>Internal</Access>
        <Location left="3355" top="3009" />
        <Size width="210" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public IPAddress IPAddress { get; set; }</Member>
        <Member type="Property">public int Port { get; set; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>NamedPipeStreamTransferInformation</Name>
        <Access>Internal</Access>
        <Location left="2845" top="3009" />
        <Size width="237" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public string Name { get; set; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IDirectIncomingMessages</Name>
        <Access>Public</Access>
        <Location left="3476" top="993" />
        <Size width="485" height="95" />
        <Collapsed>False</Collapsed>
        <Member type="Method">Task&lt;ICommunicationMessage&gt; ForwardResponse(MessageId inResponseTo)</Member>
        <Member type="Method">void ActOnArrival(IMessageFilter messageFilter, IMessageProcessAction notifyAction)</Member>
      </Entity>
      <Entity type="Class">
        <Name>EndpointInformationRequestMessage</Name>
        <Access>Public</Access>
        <Location left="132" top="2554" />
        <Size width="230" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>SuccessMessage</Name>
        <Access>Public</Access>
        <Location left="217" top="2218" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>EndpointConnectMessage</Name>
        <Access>Public</Access>
        <Location left="160" top="1896" />
        <Size width="182" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public string Address { get; }</Member>
        <Member type="Property">public string ChannelType { get; }</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>CommandInvokedResponseMessage</Name>
        <Access>Public</Access>
        <Location left="978" top="2675" />
        <Size width="222" height="94" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public object Result { get; }</Member>
        <Modifier>None</Modifier>
      </Entity>
    </Entities>
    <Relationships>
      <Relationship type="Association" first="4" second="6">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>824</X>
          <Y>1885</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>824</X>
          <Y>1856</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="7" second="0">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="8" second="0">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="9" second="8">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="11" second="0">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2696</X>
          <Y>560</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="11" second="1">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
        <StartMultiplicity>1</StartMultiplicity>
        <EndMultiplicity>0..1</EndMultiplicity>
      </Relationship>
      <Relationship type="Generalization" first="12" second="10">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>618</X>
          <Y>1252</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="14" second="3">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3780</X>
          <Y>2952</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3628</X>
          <Y>2878</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="23" second="10">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>746</X>
          <Y>1351</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>746</X>
          <Y>1245</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="20" second="0">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="16" second="1">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2511</X>
          <Y>1624</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2682</X>
          <Y>1624</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="17" second="8">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>585</X>
          <Y>404</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>585</X>
          <Y>442</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="18" second="0">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="21" second="1">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2507</X>
          <Y>1491</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2675</X>
          <Y>1491</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="5" second="15">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="24" second="1">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="29" second="11">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>2944</X>
          <Y>498</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="29" second="28">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="13" second="24">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>3559</X>
          <Y>2084</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="31" second="30">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3602</X>
          <Y>1397</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3602</X>
          <Y>1545</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="31" second="32">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3725</X>
          <Y>1292</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="34" second="5">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>4179</X>
          <Y>2602</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="31" second="33">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3724</X>
          <Y>1250</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="11" second="37">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3186</X>
          <Y>576</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="38" second="37">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="36" second="37">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="11" second="22">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="39" second="22">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="0" second="41">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1747</X>
          <Y>607</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="43" second="41">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="42" second="41">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="44" second="8">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="49" second="6">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="8" second="50">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="10" second="50">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="51" second="50">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>552</X>
          <Y>790</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>615</X>
          <Y>895</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="52" second="50">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1036</X>
          <Y>1115</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>934</X>
          <Y>993</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="23" second="52">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>807</X>
          <Y>1352</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1038</X>
          <Y>1263</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="53" second="50">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>282</X>
          <Y>1112</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>428</X>
          <Y>987</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="12" second="53">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>547</X>
          <Y>1351</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="55" second="38">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="56" second="11">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>2712</X>
          <Y>540</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="57" second="58">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="8" second="58">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>896</X>
          <Y>491</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="59" second="58">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="26" second="40">
        <Label>links to via WCF</Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1856</X>
          <Y>2298</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1690</X>
          <Y>2069</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="27" second="26">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="2" second="60">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2766</X>
          <Y>2654</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2818</X>
          <Y>2458</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="3" second="60">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3635</X>
          <Y>2654</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3559</X>
          <Y>2468</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="24" second="60">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="24" second="25">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="61" second="25">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="61" second="62">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="26" second="62">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="63" second="1">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2751</X>
          <Y>1332</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2796</X>
          <Y>1446</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="24" second="64">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2876</X>
          <Y>2022</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>2493</X>
          <Y>2008</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Generalization" first="64" second="40">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="65" second="64">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="67" second="4">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>863</X>
          <Y>2106</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>863</X>
          <Y>2058</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="46" second="67">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1081</X>
          <Y>2265</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="48" second="67">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Generalization" first="45" second="67">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>693</X>
          <Y>2106</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="47" second="67">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Generalization" first="54" second="67">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>698</X>
          <Y>2318</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="68" second="67">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Generalization" first="70" second="66">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>3125</X>
          <Y>3161</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="69" second="66">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>3270</X>
          <Y>3161</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="2" second="70">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="3" second="69">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="5" second="60">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>4027</X>
          <Y>2440</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="31" second="71">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3575</X>
          <Y>1177</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3575</X>
          <Y>1118</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="35" second="33">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="11" second="71">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3071</X>
          <Y>660</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="30" second="24">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>3346</X>
          <Y>2015</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Generalization" first="72" second="67">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>387</X>
          <Y>2581</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>740</X>
          <Y>2318</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="73" second="67">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Generalization" first="74" second="67">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>670</X>
          <Y>2106</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="75" second="67">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
    </Relationships>
  </ProjectItem>
  <ProjectItem type="NClass.DiagramEditor.ClassDiagram.Diagram" assembly="NClass.DiagramEditor, Version=2.3.1512.0, Culture=neutral, PublicKeyToken=null">
    <Name>Project - Loader</Name>
    <Language>CSharp</Language>
    <Entities>
      <Entity type="Class">
        <Name>LoaderApplication</Name>
        <Access>Public</Access>
        <Location left="851" top="61" />
        <Size width="162" height="216" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Defines the P2P app for loading onto a local machine.</Text>
        <Location left="475" top="172" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Comment">
        <Text>Assume that the whole system is unreliable. The following problems can occur:
- The client machine (apollo.core owner) can go down. Then the slaves are without an originator.
- The server (apollo.core.loaderXXX) can go down. Then the client and the slaves are without link
- The slave (apollo.core.dataset) can go down. Then the data is gone
- The network connection can drop. None of the machines disappear but if the connection is gone long enough / in the critical moment then we either lose data or identity.</Text>
        <Location left="10" top="10" />
        <Size width="391" height="216" />
      </Entity>
      <Entity type="Comment">
        <Text>All loaders should be able to process loading requests and respond with a plan that indicates how the dataset will be distributed etc.. The plan should have loading times, processing times etc.. This would allow the client to determine which solution is best for them, while still allowing the loaders to have control over their own domain.</Text>
        <Location left="10" top="529" />
        <Size width="387" height="106" />
      </Entity>
      <Entity type="Class">
        <Name>HardwareSpecification</Name>
        <Access>Public</Access>
        <Location left="1126" top="1645" />
        <Size width="790" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Constructor">public HardwareSpecification(ulong memoryInBytes, ProcessorSpecification[] processors, DiskSpecification[] disks, NetworkSpecification[] networks)</Member>
        <Member type="Property">public ulong MemoryInBytes { get; }</Member>
        <Member type="Method">public IEnumerable&lt;ProcessorSpecification&gt; Processors()</Member>
        <Member type="Method">public IEnumerable&lt;DiskSpecification&gt; Disks()</Member>
        <Member type="Method">public IEnumerable&lt;NetworkSpecification&gt; Networks()</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>The goal for the loaders is to provide a set of distribution proposals based on a given distribution requirement. The loaders will create one distribution plan for each dataset that must be distributed. This allows smaller machines to be used even if they're not able to handle all of the datasets in the distribution request.</Text>
        <Location left="10" top="233" />
        <Size width="387" height="110" />
      </Entity>
      <Entity type="Comment">
        <Text>Note that the final distribution of the jobs sounds like a tricky piece of work. We have to decide which jobs to give to what machines so that the overall run-time is lowest. However this depends on many things. For instance:
- Machines may be physically further away and thus require more time for transfer (which would suit smaller jobs instead of one bigger job).
- A cluster may be better suited to handle the whole set of calculations if we need intra-dataset communication.</Text>
        <Location left="10" top="346" />
        <Size width="387" height="179" />
      </Entity>
      <Entity type="Class">
        <Name>Machine</Name>
        <Access>Public</Access>
        <Location left="2086" top="1645" />
        <Size width="701" height="213" />
        <Collapsed>False</Collapsed>
        <Member type="Constructor">public Machine(IDictionary&lt;BaseLineId, BaseLineResult&gt; baselines)</Member>
        <Member type="Constructor">public Machine(NetworkIdentifier location, HardwareSpecification specification, IDictionary&lt;BaseLineId, BaseLineResult&gt; baselines)</Member>
        <Member type="Property">public NetworkIdentifier Location { get; }</Member>
        <Member type="Property">public HardwareSpecification Hardware { get; }</Member>
        <Member type="Method">public IEnumerable&lt;BaseLineResult&gt; BaseLines()</Member>
        <Member type="Method">public override bool Equals(object obj)</Member>
        <Member type="Method">public override int GetHashCode()</Member>
        <Member type="Method">public override string ToString()</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Note that by the time we get all the plans back some of them may well be invalid.
How are we going to deal with that?</Text>
        <Location left="3679" top="1731" />
        <Size width="197" height="114" />
      </Entity>
      <Entity type="Class">
        <Name>NetworkIdentifier</Name>
        <Access>Public</Access>
        <Location left="3314" top="1990" />
        <Size width="208" height="196" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public string DomainName { get; private set; }</Member>
        <Member type="Property">public bool IsPartOfGroup { get; }</Member>
        <Member type="Property">public string Group { get; private set; }</Member>
        <Member type="Property">public bool IsLocalMachine { get; }</Member>
        <Member type="Method">public override bool Equals(object obj)</Member>
        <Member type="Method">public override int GetHashCode()</Member>
        <Member type="Method">public override string ToString()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DistributionPlan</Name>
        <Access>Public</Access>
        <Location left="3256" top="1668" />
        <Size width="358" height="247" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public DatasetId DistributionFor { get; }</Member>
        <Member type="Method">public IEnumerable&lt;MachineIdentifier&gt; MachinesToDistributeTo()</Member>
        <Member type="Property">public TimeSpan EstimatedTransferTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedLoadingTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedRunningTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedUnloadingTime { get; }</Member>
        <Member type="Property">public TimeSpan EstimatedReturnTransferTime { get; }</Member>
        <Member type="Property">public DateTimeOffset EarliestStartTime { get; }</Member>
        <Member type="Property">public DateTimeOffset EarliestEstimatedFinishTime { get; }</Member>
        <Member type="Method">public IObservable&lt;DatasetOnlineInformation&gt; Accept()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>The catch is that the child dataset(s) may or may not exist at this point. If the children are independent then we could potentially make them before the loading request. If the children are part of a domain decomposition then we can't because it depends on the available resources.</Text>
        <Location left="4768" top="1714" />
        <Size width="211" height="171" />
      </Entity>
      <Entity type="Enum">
        <Name>LoadingLocation</Name>
        <Access>Public</Access>
        <Location left="4214" top="2044" />
        <Size width="172" height="146" />
        <Collapsed>False</Collapsed>
        <Value>None</Value>
        <Value>Local</Value>
        <Value>Distributed</Value>
        <Value>DistributedOnPeerToPeer</Value>
        <Value>DistributedOnCluster</Value>
      </Entity>
      <Entity type="Comment">
        <Text>Defines how 'complex' a dataset is with respect to machine load (memory, CPU, HDD etc.)</Text>
        <Location left="4892" top="2076" />
        <Size width="183" height="95" />
      </Entity>
      <Entity type="Class">
        <Name>DatasetRequest</Name>
        <Access>Public</Access>
        <Location left="4286" top="1698" />
        <Size width="382" height="196" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public IList&lt;DatasetOfflineInformation&gt; DatasetsToLoad { get; set; }</Member>
        <Member type="Property">public DatasetId Parent { get; set; }</Member>
        <Member type="Property">public bool ShouldProvideParentWithHubConnection { get; set; }</Member>
        <Member type="Property">public bool IsIntraDatasetCommunicationRequired { get; set; }</Member>
        <Member type="Property">public ExpectedDatasetLoad ExpectedLoadPerMachine { get; set; }</Member>
        <Member type="Property">public LoadingLocation PreferredLoadingLocation { get; set; }</Member>
        <Member type="Property">public MachineDistributionRange DesiredDistributionRange { get; set; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DatasetLoader</Name>
        <Access>Internal</Access>
        <Location left="3795" top="770" />
        <Size width="534" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public IObservable&lt;DistributionPlan&gt; ProposeDistributionFor(DatasetRequest request)</Member>
        <Member type="Method">internal IObservable&lt;DatasetOnlineInformation&gt; ImplementPlan(DistributionPlan planToImplement)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IHelpDistributingDatasets</Name>
        <Access>Public</Access>
        <Location left="3782" top="1449" />
        <Size width="459" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IObservable&lt;DistributionPlan&gt; ProposeDistributionFor(DatasetRequest request)</Member>
      </Entity>
      <Entity type="Comment">
        <Text>The request needs to go out to all available loaders. How do we achieve that?</Text>
        <Location left="4170" top="1013" />
        <Size width="160" height="90" />
      </Entity>
      <Entity type="Comment">
        <Text>Note that we need to know not only how many machines and which machines to send this to, we also need to know when the request has disappeared in the great void.</Text>
        <Location left="4450" top="1013" />
        <Size width="255" height="109" />
      </Entity>
      <Entity type="Class">
        <Name>DatasetLoaderCommandSet</Name>
        <Access>Public</Access>
        <Location left="1351" top="1132" />
        <Size width="174" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IDatasetLoaderCommandSet</Name>
        <Access>Public</Access>
        <Location left="1719" top="672" />
        <Size width="560" height="129" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IObservable&lt;DistributionPlan&gt; Propose(DatasetRequest request)</Member>
        <Member type="Method">IObservable&lt;PlanExecutionId&gt; AcceptPlan(DistributionPlan plan)</Member>
        <Member type="Method">IObservable&lt;EndPointId&gt; LoadNewDataset(MachineId machineToLoadOn)</Member>
        <Member type="Method">IObservable&lt;EndPointId&gt; LoadNewDataset(MachineId machineToLoadOn, PlanExecutionId planId)</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Should there be a config that indicates in what order things should be considered?
Define:
- Which machines are what (cluster, p2p, local)
- Which order things go in (cluster, p2p, local)</Text>
        <Location left="4170" top="1222" />
        <Size width="304" height="106" />
      </Entity>
      <Entity type="Comment">
        <Text>Dispatches incomming messages to the correct recipient.</Text>
        <Location left="1378" top="111" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Comment">
        <Text>Need to be able to broadcast that we're on the network and that we're getting off the network.</Text>
        <Location left="1111" top="97" />
        <Size width="181" height="90" />
      </Entity>
      <Entity type="Comment">
        <Text>Do we need the ability to get a distribution plan for multiple datasets?</Text>
        <Location left="4620" top="1515" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Interface">
        <Name>ILoadDatasets</Name>
        <Access>Internal</Access>
        <Location left="3177" top="1449" />
        <Size width="528" height="78" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IObservable&lt;DatasetOnlineInformation&gt; ImplementPlan(DistributionPlan planToImplement)</Member>
      </Entity>
      <Entity type="Comment">
        <Text>Initialize the app through the IOC container. Possibly have a bunch of startable components that do the actual work.</Text>
        <Location left="475" top="61" />
        <Size width="191" height="94" />
      </Entity>
      <Entity type="Comment">
        <Text>We're adding an interfae these because these interfaces are needed in the core application so that we can build a dynamic proxy for them in order to mirror the command set.</Text>
        <Location left="913" top="486" />
        <Size width="216" height="114" />
      </Entity>
      <Entity type="Class">
        <Name>CommandSet</Name>
        <Access>Public</Access>
        <Location left="1214" top="895" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Abstract</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>MachineCommands</Name>
        <Access>Public</Access>
        <Location left="1106" top="1132" />
        <Size width="163" height="77" />
        <Collapsed>False</Collapsed>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>IMachineCommands</Name>
        <Access>Public</Access>
        <Location left="546" top="895" />
        <Size width="585" height="95" />
        <Collapsed>False</Collapsed>
        <Member type="Method">IObservable&lt;string&gt; DetermineMissingOrIncorrectAssemblies(IEnumerable&lt;string&gt; requiredAssemblies)</Member>
        <Member type="Method">IObservable TransferAssembly(string assemblyPath)</Member>
      </Entity>
      <Entity type="Interface">
        <Name>ICommandSet</Name>
        <Access>Public</Access>
        <Location left="1068" top="672" />
        <Size width="456" height="147" />
        <Collapsed>False</Collapsed>
        <Member type="Event">event EventHandler&lt;CommandSetAvailabilityEventArgs&gt; OnAvailabilityChange</Member>
        <Member type="Event">event EventHandler&lt;EventArgs&gt; OnInvalidate</Member>
      </Entity>
      <Entity type="Class">
        <Name>DistributorCalculator</Name>
        <Access>Public</Access>
        <Location left="1351" top="1348" />
        <Size width="162" height="216" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Interface">
        <Name>ICommandSetProxy</Name>
        <Access>Public</Access>
        <Location left="3208" top="715" />
        <Size width="163" height="61" />
        <Collapsed>False</Collapsed>
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 5:
Topology doesn't change:
- It does, all the time. More so for clients than for servers but still.
==&gt; Do not rely on a specific machine. Get machines to broadcast their presence if they are on the network and ready to work. Ditto for going offline. WCF-discovery should work for this.</Text>
        <Location left="4170" top="459" />
        <Size width="339" height="160" />
      </Entity>
      <Entity type="Comment">
        <Text>Distributed processing fallacy 8:
The network is homegeous
- It's not, there's all kinds of stuff on it
==&gt; Machines may be more or less powerful than the 'current' machine etc. Not much we can do about it other than keep it in mind.</Text>
        <Location left="3756" top="493" />
        <Size width="339" height="123" />
      </Entity>
      <Entity type="Class">
        <Name>MachineDistributionRange</Name>
        <Access>Public</Access>
        <Location left="3981" top="2044" />
        <Size width="168" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public int Minimum { get; }</Member>
        <Member type="Property">public int Maximum { get; }</Member>
        <Member type="Method">public override bool Equals(object obj)</Member>
        <Member type="Method">public override int GetHashCode()</Member>
        <Member type="Method">public override string ToString()</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>ExpectedDatasetLoad</Name>
        <Access>Public</Access>
        <Location left="4447" top="2044" />
        <Size width="346" height="162" />
        <Collapsed>False</Collapsed>
        <Member type="Property">public long OnDiskSizeInBytes { get; set; }</Member>
        <Member type="Property">public long InMemorySizeInBytes { get; set; }</Member>
        <Member type="Property">public BaseLineId BaseLine { get; set; }</Member>
        <Member type="Property">public double RelativeMemoryRunningExpansion { get; set; }</Member>
        <Member type="Property">public double RelativeOnDiskExpansionAfterRunning { get; set; }</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>DiskSpecification</Name>
        <Access>Public</Access>
        <Location left="901" top="1968" />
        <Size width="531" height="230" />
        <Collapsed>False</Collapsed>
        <Member type="Constructor">public DiskSpecification(string serialNumber, ulong totalSpace, ulong availableSpace)</Member>
        <Member type="Constructor">public DiskSpecification(string name, string serialNumber, ulong totalSpace, ulong availableSpace)</Member>
        <Member type="Property">public string Name { get; private set; }</Member>
        <Member type="Property">public string SerialNumber { get; private set; }</Member>
        <Member type="Property">public ulong TotalSpace { get; private set; }</Member>
        <Member type="Property">public long AvailableSpace { get; private set; }</Member>
        <Member type="Method">public override bool Equals(object obj)</Member>
        <Member type="Method">public override int GetHashCode()</Member>
        <Member type="Method">public override string ToString()</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>ProcessorSpecification</Name>
        <Access>Public</Access>
        <Location left="1256" top="2249" />
        <Size width="803" height="264" />
        <Collapsed>False</Collapsed>
        <Member type="Constructor">public ProcessorSpecification(string name, int addressWidth, ProcessorArchitecture architecture, long cores, long logicalProcessors, long clockSpeed)</Member>
        <Member type="Property">public string Name { get; private set; }</Member>
        <Member type="Property">public int AddressWidth { get; private set; }</Member>
        <Member type="Property">internal ProcessorArchitecture Architecture { get; private set; }</Member>
        <Member type="Property">public long NumberOfCores { get; private set; }</Member>
        <Member type="Property">public long NumberOfLogicalProcessors { get; private set; }</Member>
        <Member type="Property">public long NumberOfLogicalProcessors { get; private set; }</Member>
        <Member type="Property">public long ClockSpeedInMHz { get; private set; }</Member>
        <Member type="Method">public override bool Equals(object obj)</Member>
        <Member type="Method">public override int GetHashCode()</Member>
        <Member type="Method">public override string ToString()</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>NetworkSpecification</Name>
        <Access>Public</Access>
        <Location left="1649" top="1968" />
        <Size width="504" height="213" />
        <Collapsed>False</Collapsed>
        <Member type="Constructor">public NetworkSpecification(string name, string macAddress, bool isConnected, ulong speed)</Member>
        <Member type="Property">public string Name { get; private set; }</Member>
        <Member type="Property">public string MacAddress { get; private set; }</Member>
        <Member type="Property">public bool IsConnected { get; private set; }</Member>
        <Member type="Property">public ulong SpeedInBitsPerSecond { get; private set; }</Member>
        <Member type="Method">public override bool Equals(object obj)</Member>
        <Member type="Method">public override int GetHashCode()</Member>
        <Member type="Method">public override string ToString()</Member>
        <Modifier>None</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Should check that the return value is either one of:
- void
- Task
- IObservable

And all parameters need to be serializable.</Text>
        <Location left="1378" top="444" />
        <Size width="255" height="139" />
      </Entity>
      <Entity type="Class">
        <Name>MessageHub</Name>
        <Access>Public</Access>
        <Location left="1100" top="274" />
        <Size width="392" height="128" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public TCommands CommandsFor&lt;TCommands&gt;(EndpointId endpoint)</Member>
        <Member type="Method">public void RegisterCommands(CommandSet set)</Member>
        <Member type="Method">public void CloseConnectionTo(EndpointId endpoint)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Class">
        <Name>MessageHub</Name>
        <Access>Public</Access>
        <Location left="3073" top="263" />
        <Size width="392" height="128" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public TCommands CommandsFor&lt;TCommands&gt;(EndpointId endpoint)</Member>
        <Member type="Method">public void RegisterCommands(CommandSet set)</Member>
        <Member type="Method">public void CloseConnectionTo(EndpointId endpoint)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Enum">
        <Name>ProcessorArchitecture</Name>
        <Access>Public</Access>
        <Location left="1567" top="2624" />
        <Size width="163" height="197" />
        <Collapsed>False</Collapsed>
        <Value>None</Value>
        <Value>x86</Value>
        <Value>Mips</Value>
        <Value>Alpha</Value>
        <Value>PowerPc</Value>
        <Value>Itanium</Value>
        <Value>x64</Value>
        <Value>Unknown</Value>
      </Entity>
    </Entities>
    <Relationships>
      <Relationship type="Comment" first="1" second="0">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="7" second="4">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>2057</X>
          <Y>1705</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1941</X>
          <Y>1705</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="8" second="10">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="10" second="9">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="11" second="14">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="14" second="12">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="15" second="16">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="18" second="17">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Realization" first="19" second="20">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1774</X>
          <Y>826</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="17" second="21">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="16" second="14">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>4278</X>
          <Y>1499</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="24" second="14">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>4527</X>
          <Y>1670</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="10" second="25">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3425</X>
          <Y>1643</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>3425</X>
          <Y>1557</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="26" second="0">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>812</X>
          <Y>114</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="27" second="31">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1167</X>
          <Y>542</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1230</X>
          <Y>647</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="30" second="31">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>749</X>
          <Y>867</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1043</X>
          <Y>745</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="29" second="30">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1081</X>
          <Y>1170</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>808</X>
          <Y>1015</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="29" second="28">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1183</X>
          <Y>1102</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1257</X>
          <Y>997</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Realization" first="28" second="31">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Generalization" first="20" second="31">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1685</X>
          <Y>742</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1549</X>
          <Y>742</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Generalization" first="19" second="28">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1337</X>
          <Y>997</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="19" second="32">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Generalization" first="33" second="20">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="34" second="15">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>4143</X>
          <Y>742</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="35" second="15">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>3902</X>
          <Y>731</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="14" second="36">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>4251</X>
          <Y>1877</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="14" second="37">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="13" second="37">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="4" second="38">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1101</X>
          <Y>1724</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>968</X>
          <Y>1943</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="4" second="39">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1579</X>
          <Y>2222</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="4" second="40">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1941</X>
          <Y>1760</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1996</X>
          <Y>1943</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="17" second="15">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="15" second="33">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3768</X>
          <Y>839</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Realization" first="15" second="25">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>3883</X>
          <Y>907</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="41" second="31">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1448</X>
          <Y>647</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="42" second="31">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="0" second="42">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>926</X>
          <Y>302</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1075</X>
          <Y>341</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Comment" first="23" second="42">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="22" second="42">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
      </Relationship>
      <Relationship type="Association" first="43" second="42">
        <Label>Connects over the network</Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <Direction>Bidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
      <Relationship type="Association" first="43" second="33">
        <Label>
        </Label>
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="32" second="7">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>1591</X>
          <Y>1435</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
      </Relationship>
      <Relationship type="Association" first="39" second="44">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <Direction>Unidirectional</Direction>
        <AssociationType>Association</AssociationType>
      </Relationship>
    </Relationships>
  </ProjectItem>
  <ProjectItem type="NClass.DiagramEditor.ClassDiagram.Diagram" assembly="NClass.DiagramEditor, Version=2.3.1512.0, Culture=neutral, PublicKeyToken=null">
    <Name>Project - Batch runner</Name>
    <Language>CSharp</Language>
    <Entities>
      <Entity type="Comment">
        <Text>Should be able to pick up a project and run information and then run the desired datasets.</Text>
        <Location left="10" top="484" />
        <Size width="176" height="91" />
      </Entity>
      <Entity type="Comment">
        <Text>This is possible if we make sure that the hosts just return a proposal. The service can then keep track of the work the hosts are doing etc.</Text>
        <Location left="883" top="330" />
        <Size width="192" height="114" />
      </Entity>
      <Entity type="Comment">
        <Text>If we want to allow clusters to work efficiently then we should be able to pass the job off to the cluster. That means that the service should handle the exact distribution.</Text>
        <Location left="598" top="330" />
        <Size width="209" height="114" />
      </Entity>
      <Entity type="Comment">
        <Text>Do we allow slaves to report to the service that they're ready to work?</Text>
        <Location left="598" top="227" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Comment">
        <Text>Need to be able to broadcast that we're on the network and that we're getting off the network.</Text>
        <Location left="1185" top="330" />
        <Size width="181" height="90" />
      </Entity>
      <Entity type="Comment">
        <Text>Dispatches incomming messages to the correct recipient.</Text>
        <Location left="1452" top="344" />
        <Size width="160" height="75" />
      </Entity>
      <Entity type="Class">
        <Name>MessageHub</Name>
        <Access>Public</Access>
        <Location left="1218" top="534" />
        <Size width="366" height="111" />
        <Collapsed>False</Collapsed>
        <Member type="Method">public TProxy CommandsFor&lt;TProxy&gt;(EndPointId endpoint)</Member>
        <Member type="Method">public void RegisterRequestHandler(RequestId id, Action handler)</Member>
        <Modifier>Sealed</Modifier>
      </Entity>
      <Entity type="Comment">
        <Text>Defines the service that handles loading onto the local machine or onto a cluster.</Text>
        <Location left="214" top="248" />
        <Size width="160" height="96" />
      </Entity>
      <Entity type="Class">
        <Name>LoaderService</Name>
        <Access>Public</Access>
        <Location left="323" top="440" />
        <Size width="162" height="216" />
        <Collapsed>False</Collapsed>
        <Modifier>None</Modifier>
      </Entity>
    </Entities>
    <Relationships>
      <Relationship type="Comment" first="0" second="8">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="1" second="2">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
      </Relationship>
      <Relationship type="Comment" first="2" second="8">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>579</X>
          <Y>512</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="3" second="8">
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>555</X>
          <Y>256</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>440</X>
          <Y>413</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="4" second="6">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1285</X>
          <Y>509</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Association" first="8" second="6">
        <Label>
        </Label>
        <StartOrientation>Horizontal</StartOrientation>
        <EndOrientation>Horizontal</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>608</X>
          <Y>583</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>1190</X>
          <Y>583</Y>
        </BendPoint>
        <Direction>Unidirectional</Direction>
        <AssociationType>Composition</AssociationType>
        <StartMultiplicity>1</StartMultiplicity>
        <EndMultiplicity>1</EndMultiplicity>
      </Relationship>
      <Relationship type="Comment" first="5" second="6">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="False">
          <X>1510</X>
          <Y>509</Y>
        </BendPoint>
      </Relationship>
      <Relationship type="Comment" first="7" second="8">
        <StartOrientation>Vertical</StartOrientation>
        <EndOrientation>Vertical</EndOrientation>
        <BendPoint relativeToStartShape="True">
          <X>278</X>
          <Y>375</Y>
        </BendPoint>
        <BendPoint relativeToStartShape="False">
          <X>365</X>
          <Y>402</Y>
        </BendPoint>
      </Relationship>
    </Relationships>
  </ProjectItem>
</Project>